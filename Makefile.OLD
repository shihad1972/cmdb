#
#
# Makefile for DNSA c programs
#
#
RM = rm -f
ECHO = echo
DIR = src
SUBDIRS = src
bin_PROGRAMS = dnsa cmdb cbc cbcdomain cbcos cbcvarient cbcpack cbcpart

shared_SOURCES = src/errors.c src/checks.c

dnsa_SOURCES =	src/dnsa.c src/dnsacom.c src/zones.c $(shared_SOURCES)\
		src/dnsa_base_sql.c src/base_sql.c\
		src/cmdb_dnsa.h src/cmdb.h src/checks.h\
		src/dnsa_base_sql.h src/base_sql.h

cbc_SOURCES =	src/cbc.c $(shared_SOUCES) src/cbccom.c src/createbuild.c\
		src/base_sql.c src/cbc_data.c src/build.c src/cbc_base_sql.c\
		src/cbc_dnsa.c src/dnsa_base_sql.c\
		src/cmdb_cbc.h src/cmdb.h src/cbc_data.h src/build.h\
		src/cbc_base_sql.h src/dnsa_base_sql.h src/cbc_dnsa.h

cbcdomain_SOURCES = \
		src/cbcdomain.c $(shared_SOURCES) src/base_sql.c\
		src/cbc_data.c src/cbc_base_sql.c src/builddomain.c\
		src/cbccom.c src/dnsacom.c src/zones.c src/dnsa_base_sql.c\
		src/cbc_dnsa.c\
		src/cmdb.h src/cmdb_cbc.h src/cbc_data.h src/cbc_dnsa.h\
		src/cbc_base_sql.h src/builddomain.h src/cbcdomain.h

cbcos_SOURCES = src/cbcos.c $(shared_SOURCES) src/base_sql.c\
		src/cbc_data.c src/cbc_base_sql.c src/cbccom.c\
		src/cmdb.h src/cmdb_cbc.h src/cbc_data.h\
		src/cbc_base_sql.h src/cbcos.h

cbcvarient_SOURCES = \
		src/cbcvarient.c $(shared_SOURCES) src/base_sql.c\
		src/cbc_data.c src/cbc_base_sql.c src/cbccom.c\
		src/cmdb.h src/cmdb_cbc.h src/cbc_data.h\
		src/cbc_base_sql.h src/cbcvarient.h

cmdb_SOURCES =	src/cmdb.c src/cmdbcom.c $(shared_SOURCES) src/servers.c\
		src/customers.c src/base_sql.c src/cmdb_base_sql.c\
		src/cmdb_cmdb.h src/cmdb_base_sql.h src/cmdb.h\
		src/checks.h src/base_sql.h

cbcpack_SOURCES = \
		src/cbcpack.c $(shared_SOURCES) src/base_sql.c\
		src/cbc_data.c src/cbc_base_sql.c src/cbccom.c\
		src/cmdb.h src/cmdb_cbc.h src/cbc_data.h\
		src/cbc_base_sql.h src/cbcpack.h

cbcpart_SOURCES = \
		src/cbcpart.c $(shared_SOURCES) src/base_sql.c\
		src/cbc_data.c src/cbc_base_sql.c src/cbccom.c\
		src/cmdb.h src/cmdb_cbc.h src/cbc_data.h\
		src/cbc_base_sql.h src/cbcpart.h

all:	$(bin_PROGRAMS)

dnsa:
	cd $(DIR); $(MAKE) $(MFLAGS) dnsa

cmdb:
	cd $(DIR); $(MAKE) $(MFLAGS) cmdb

cbc:
	cd $(DIR); $(MAKE) $(MFLAGS) cbc

cbcdomain:
	cd $(DIR); $(MAKE) $(MFLAGS) cbcdomain

cbcos:
	cd $(DIR); $(MAKE) $(MFLAGS) cbcos

cbcvarient:
	cd $(DIR); $(MAKE) $(MFLAGS) cbcvarient

cbcpack:
	cd $(DIR); $(MAKE) $(MFLAGS) cbcpack

cbcpart:
	cd $(DIR); $(MAKE) $(MFLAGS) cbcpart

clean :
	cd $(DIR); $(MAKE) clean
