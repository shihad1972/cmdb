#
#
# Makefile for DNSA c programs
#
#
RM = rm -f
ECHO = echo
DIR = src
DAEMONDIR = daemon
CLIENTDIR = client
LIBDIR = lib
SUBDIRS = lib src daemon
mk_PROGRAMS = mkvm mksp
bin_PROGRAMS = dnsa cmdb cbc cbcdomain cbcos cbcvarient cbcpart cpc cbcsysp cbcscript ckc cbclocale $(mk_PROGRAMS)
sbin_PROGRAMS = cmdbd
lib_LIBRARIES = libailsacmdb.a

all:	$(lib_LIBRARIES) $(bin_PROGRAMS) $(sbin_PROGRAMS)

libs:	$(lib_LIBRARIES)

mk:	$(mk_PROGRAMS)

daemon:	$(sbin_PROGRAMS)

$(lib_LIBRARIES):
	$(MAKE) -C $(LIBDIR) $@

$(bin_PROGRAMS):	$(lib_LIBRARIES)
	$(MAKE) -C $(DIR) $@

$(sbin_PROGRAMS):	$(lib_LIBRARIES)
	$(MAKE) -C $(DAEMONDIR) $@

clean :
	for dir in $(SUBDIRS); do \
	  $(MAKE) -C $$dir clean; \
	done
