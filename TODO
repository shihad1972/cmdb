17/01/2015
For the build scripts mention below, we are going to have to find a way to
tie them to either an os or a build type. In fact, we should also look at
tying the build_os to a build type, so that each OS we can build is in the
build_type table, but that we can also modify information in there or even
add new build types.

14/01/2015
As well as adding cbcsysp for debian packages, I am going to have to add a
database table for kickstart scripts (and also scripts for debian for
packages I cannot preseed).
As a start, I guess I could do a table of script names and then a table of
arguments, based on the domain name (or bd_id (build domain))

06/01/2015
I want to be able to limit the number of results returned from the DB query
so we only display, say, 20 servers / dnsa zone records etc. This will mean
we need to page the terminal and also rerun the query on the database using
the LIMIT clause in the SQL statement. This can be used in the prepared
statements but probably not the base queries, so I will have to fix the whole
DB access :(

08/12/2014
Database updates. Need to update code to match:

build_type.url : increased to 255
build_domain.domain : increased to 255
            .ntp_server : increaed to 255
            .ldap_server : increased to 255
            .smtp_server : Increased to 255
            .log_server : increased to 255
            .xymon_server : increased to 255
            .nfs_domain : incresed to 255
service.url : increased to 255
build_ip.hostname : increased to 63
build_ip.domainname : increased to 255


26/11/2014
Would be nice if I could create a VM xml file to use for libvirt.
Not too sure if I need to use the libvirt API or not.

21/11/2014
Chek the auditd source code for a cool way to read a config file.
Have to build a list of values that it can read, and will
probably want to associate these with the struct char memeber somehow.
Currently config reading is pretty ugly :(
Also need to add the ENV options too - should be able to get the
values from environment.

26/10/2014
It seems that we add the disk device when we add a server build regardless
of whether or not we are successful in adding the server build. This needs
fixed
*** Fixed 07/12/2014: Re-wrote the create_build_config function ***

22/10/2014
It seems we can add mount options to the partitioning scheme using the
following:

options/nodev{ nodev }
etc.

Need to work on a secure build with some specific options for mounted
filesystems like /tmp, /var/log etc. See www.cisecurity.org

20/10/2014
Need to add racks, switches and power outlets into the database. Also maybe
need external storage arrays, tape drives etc. Perhaps move servers table
into asset table?

17/10/2014
Need to break out the address for customer from the main customer table. This
will be to allow multiple customer addresses / sites. Would we want to be able
to assign a service to a site? What about hardware?

10/08/2014 - Part III
Would be good to be able to lock down the preseed file and host script to only 
that IP address. As this is HTTP this will have to be in the apache config.

10/08/2014 - Part II
I should split out the generic arguments into double dashes -- , but also be
able to read them from a config file; one per line
Will need to work out priority for system config and user config

10/08/2014
Might be good to have a version of cbc that can work without cmdb. I will need 
to distill it down to the esentials of the build. Will need to investigate
-- arguments to command line for the partitions

		 base + varient
		/
varient / package 
		\
		 what base? how to choose..

	 size of the disk
	/
partition		     specific part's, but can still choose
	\		    /
	 specific partitions?

		 Do I have to specify supported OS's?
		/ 
operating system


	 Mostly IP's, mostly + DNS
	/
domain

cpc	create preseed config
ckc	create kickstart config
**** Basic version of cpc has been written ****

09/08/2014
Need to be able to update / modify in cmdb. I will need to the add the
updates to the database.
*** Server complete 16/10/2014 ***
*** Customer and services seem complete too ***

09/07/2014
Adding new OS is not complete. There is no locale for the new OS so we
cannot use it. This is error 190
*** Added report_error for this ***

02/06/2014
Need to add support for internal / external views.

21/04/2014
With the checks.[c|h] should add a glib test as well so we do not have to
use libpcre. Can have the option of one or the other. ./configure should
bomb out if neither are present but give the user the option to pass
paramemter --with-usr-input-checks=disabled
*** Sort of added. If there is not libpcre or it has been disabled then
    configure bombs out. Must actively pass --disable-user-checks
    04/12/2014 ***

17/04/2014
The applications in build domain should be associated with a "system" group
of packages, separate from the "application" packages currently in the
packages table. In preseed this would allow me to create a table that can
have entries added to them by the user; the package names and the debconf
configurations for those packages, as this is what the build domain
applications currently do. For kickstart, there would be a configuration
script associated with them. Can also have a config script associated
with preseed.

29/03/2014
If I change the id field in the database to a uuid then I can have
a local file storage, i.e. not use a database. If I am to do this
it may be helpful to be able to import and export these fields in
raw text. libxml anyone?

05/12/2013
Using cbc to add a build, if there is an error on the command line
it still adds somthing into the build tables, as adding the correct
one and trying to write the build file results in an error. Perhaps
should look at doing this as a transaction (sort of).
*** FIXED IN cac5fe5: This was the disk_dev getting added.
    06/12/2014 - wow - only a year in there :( ****

23/11/2013
Allow mysql to be network aware, so that we can have multiple build
servers. We could do this by adding a build_server table and then
build_server_id (or a snappier name) to the server table. This can
then be added to the end of the SQL statement to be more precise
about the result returned. We could also use this to add enable /
disable instead of delete in the database.

19/09/2013
Only need one initial customer; techies. Need to think more about
internal customers; again most of the crap should be able to be added
later

The base.sh install script for debian could download a config script
for that host using the hostname.
Fixed

15/09/2013
When addding a server, it's bullshit that we have to add the network
card and hard disk seperately, and also that we have to know the ID's
that they are in the database. Better to add them WHEN we add the
server.

Need to add Root-CA field into the build_domain table of database.

**Need to add default locale when we add a build OS.

**Debian build want's configuration for libnss-ldap and libpam-ldap if
  we do not automatically configure them.
Fixed

26/08/2013
Add checks against all strtoul from DB as if given NULL it will segfault.

07/08/2013
Use amd64 instead of x86_64 - perhaps alias? (this is for the tftp names)

30/06/2013
Have a generic config struct (config_s) that all the others (e.g.
dnsa_config_s) contain that can be shared between the programs. This way we
can have standard SQL functions that can be shared amongst the programs.

Problem with this is to work out a way of passing the program to the SQL
search so that it will do a, e.g. cbc_search and get the correct values
for number and type of args and fields. Also this will need to be the
correct search itself. Could this config contain this information?

15/06/2013
When adding new build_os need to add locales for that os. Should probably
base on build type

05/06/2013
Need to add the first zone in for dnsa otherwise the software complains
it cannot add the zone due to the A records for the NS records are not
in the zone. DOH!
	03/08/2013 **UPDATE **
	I could probably just add the name server(s) as A records into
	the DB and then add these records to the zonefile. If you are
	adding a zone there should not be any records yet.

04/06/2013
For all build options there should be a default option so when you
create a build you do not need to specify all the options.
This will help for first install too, if I create some default options

02/06/2013
Should have the root password for the machine in the database and
add this to the build file. Need to work out how to get hash

Also need to add an email alias for root in smtp configuration

23/05/2013
Still need to write cbclocale

06/05/2013
Database access is pretty poor. Multiple inserts need multiple statements
and the memory allocation for a large result set is bad too (each result
has an individual malloc.)

28/04/2013
The varients perhaps should be able to be added together, so for example you
can create a cluster varient that will install all the packages necessary
for a cluster as well as , e.g., LAMP or SQL Database.

This functionality could be added with "add on" packages

06/04/2013
Allow packages to be grouped, so e.g. PHP can contain all php modules

Should probably add racks / power points / switch points into cmdb.

*** ALL ***
Need to sort out an install script for the database and decide what tables
to populate at install time, and how to get the default values from the user
Currently I am thinking make postinstall or perhaps make dbinstall
